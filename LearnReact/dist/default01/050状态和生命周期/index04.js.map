{"version":3,"sources":["..\\..\\..\\default01\\050状态和生命周期\\index04.js"],"names":["firstName","Welcome","props","state","lastName","fullName","timerID","setInterval","tick","clearInterval","setState","prevState","React","Component","ReactDOM","render","document","getElementById"],"mappings":";;;;;;;;;;AAAA;;;;AAIA,IAAIA,YAAY,MAAhB;AACA;AACA;AACA;;;IAGMC,O;;;AACF,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA,sHACTA,KADS;;AAEf,cAAKC,KAAL,GAAa,EAACC,UAAU,SAAX,EAAsBC,UAAU,aAAhC,EAAb;AAFe;AAGlB;;;;4CAEmB;AAAA;;AAChB,iBAAKC,OAAL,GAAeC,YAAY;AAAA,uBAAM,OAAKC,IAAL,EAAN;AAAA,aAAZ,EAA+B,IAA/B,CAAf;AACH;;;+CAEsB;AACnBC,0BAAc,KAAKH,OAAnB;AACH;;;+BAEM;AACH;AACA;AACA,iBAAKI,QAAL,CAAc,UAACC,SAAD,EAAYT,KAAZ;AAAA,uBAAuB;AACjCG,8BAAWH,MAAMF,SAAN,GAAkBW,UAAUP;AADN,iBAAvB;AAAA,aAAd;AAGH;;;iCAEQ;AACL,mBAAO;AAAA;AAAA;AAAA;AAAa,qBAAKF,KAAL,CAAWF,SAAxB;AAAA;AAAoC,qBAAKG,KAAL,CAAWC,QAA/C;AAAA;AAA0D,qBAAKD,KAAL,CAAWE;AAArE,aAAP;AACH;;;;EAxBiBO,MAAMC,S;;AA2B5BC,SAASC,MAAT,CACI,oBAAC,OAAD,IAAS,WAAWf,SAApB,GADJ,EAEIgB,SAASC,cAAT,CAAwB,MAAxB,CAFJ","file":"index04.js","sourcesContent":["/**\r\n * Created by w1036_000 on 2017/3/14.\r\n */\r\n\r\nlet firstName = 'wang';\r\n// setInterval(() => {\r\n//     firstName += 'a'\r\n// }, 1000);\r\n\r\n\r\nclass Welcome extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {lastName: 'pengfei', fullName: 'wangpengfei'};\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.timerID = setInterval(() => this.tick(), 1000);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.timerID);\r\n    }\r\n\r\n    tick() {\r\n        //setState可能是异步执行的，因此在结合props和state中的值时，应该采用如下方式，第一个参数为先前state，第二个参数是当时的props\r\n        //setState是合并的，因此改变state中的一个值，其他的值不变\r\n        this.setState((prevState, props) => ({\r\n            fullName : props.firstName + prevState.lastName\r\n        }));\r\n    }\r\n\r\n    render() {\r\n        return <h1>welcome,{this.props.firstName}-{this.state.lastName}-{this.state.fullName}</h1>\r\n    }\r\n}\r\n\r\nReactDOM.render(\r\n    <Welcome firstName={firstName}/>,\r\n    document.getElementById('root')\r\n);\r\n\r\n"]}