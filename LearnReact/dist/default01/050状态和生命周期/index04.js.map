{"version":3,"sources":["..\\..\\..\\default01\\050状态和生命周期\\index04.js"],"names":["firstName","Welcome","React","Component","constructor","props","state","lastName","fullName","componentDidMount","timerID","setInterval","tick","componentWillUnmount","clearInterval","setState","prevState","render","ReactDOM","document","getElementById"],"mappings":"AAAA;;;;AAIA,IAAIA,YAAY,MAAhB;AACA;AACA;AACA;;;AAGA,MAAMC,OAAN,SAAsBC,MAAMC,SAA5B,CAAsC;AAClCC,gBAAYC,KAAZ,EAAmB;AACf,cAAMA,KAAN;AACA,aAAKC,KAAL,GAAa,EAACC,UAAU,SAAX,EAAsBC,UAAU,aAAhC,EAAb;AACH;;AAEDC,wBAAoB;AAChB,aAAKC,OAAL,GAAeC,YAAY,MAAM,KAAKC,IAAL,EAAlB,EAA+B,IAA/B,CAAf;AACH;;AAEDC,2BAAuB;AACnBC,sBAAc,KAAKJ,OAAnB;AACH;;AAEDE,WAAO;AACH;AACA;AACA,aAAKG,QAAL,CAAc,CAACC,SAAD,EAAYX,KAAZ,MAAuB;AACjCG,sBAAWH,MAAML,SAAN,GAAkBgB,UAAUT;AADN,SAAvB,CAAd;AAGH;;AAEDU,aAAS;AACL,eAAO;AAAA;AAAA;AAAA;AAAa,iBAAKZ,KAAL,CAAWL,SAAxB;AAAA;AAAoC,iBAAKM,KAAL,CAAWC,QAA/C;AAAA;AAA0D,iBAAKD,KAAL,CAAWE;AAArE,SAAP;AACH;AAxBiC;;AA2BtCU,SAASD,MAAT,CACI,oBAAC,OAAD,IAAS,WAAWjB,SAApB,GADJ,EAEImB,SAASC,cAAT,CAAwB,MAAxB,CAFJ","file":"index04.js","sourcesContent":["/**\r\n * Created by w1036_000 on 2017/3/14.\r\n */\r\n\r\nlet firstName = 'wang';\r\n// setInterval(() => {\r\n//     firstName += 'a'\r\n// }, 1000);\r\n\r\n\r\nclass Welcome extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {lastName: 'pengfei', fullName: 'wangpengfei'};\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.timerID = setInterval(() => this.tick(), 1000);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.timerID);\r\n    }\r\n\r\n    tick() {\r\n        //setState可能是异步执行的，因此在结合props和state中的值时，应该采用如下方式，第一个参数为先前state，第二个参数是当时的props\r\n        //setState是合并的，因此改变state中的一个值，其他的值不变\r\n        this.setState((prevState, props) => ({\r\n            fullName : props.firstName + prevState.lastName\r\n        }));\r\n    }\r\n\r\n    render() {\r\n        return <h1>welcome,{this.props.firstName}-{this.state.lastName}-{this.state.fullName}</h1>\r\n    }\r\n}\r\n\r\nReactDOM.render(\r\n    <Welcome firstName={firstName}/>,\r\n    document.getElementById('root')\r\n);\r\n\r\n"]}